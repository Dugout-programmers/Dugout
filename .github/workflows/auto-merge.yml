name: Auto Merge Dev into Main

on:
  push:
    branches:
      - dev  # âœ… dev ë¸Œëœì¹˜ì— Pushí•˜ë©´ ìë™ìœ¼ë¡œ mainìœ¼ë¡œ PR ìƒì„±

permissions:  # âœ… GITHUB_TOKENì„ ì‚¬ìš©í•˜ë ¤ë©´ ì´ ì„¤ì • í•„ìš”!
  contents: write
  pull-requests: write

jobs:
  create-pull-request:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Configure Git # âœ… Git ì„¤ì • ì¶”ê°€
        run: |
          git config --global user.name "GitHub Actions"
          git config --global user.email "actions@github.com"

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}  # âœ… ê¸°ë³¸ ì œê³µë˜ëŠ” GitHub Token ì‚¬ìš© (ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”)
          branch: main  # âœ… PRì´ main ë¸Œëœì¹˜ë¡œ ìƒì„±ë¨
          title: "ğŸ”„ Merge dev into main"
          body: "ìë™ìœ¼ë¡œ dev ë¸Œëœì¹˜ì˜ ë³€ê²½ ì‚¬í•­ì„ mainìœ¼ë¡œ PR ë³´ëƒ„."
          labels: "automated pr"
          assignees: "sunhyeongpp"  # âœ… ë‚´ GitHub ID ì§€ì •
